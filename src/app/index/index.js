"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _lodashCollectionPluck=require("lodash/collection/pluck"),_lodashCollectionPluck2=_interopRequireDefault(_lodashCollectionPluck),_lodashCollectionForEach=require("lodash/collection/forEach"),_lodashCollectionForEach2=_interopRequireDefault(_lodashCollectionForEach),_lodashArray=require("lodash/array"),_lodashArray2=_interopRequireDefault(_lodashArray),_mithril=require("mithril"),_mithril2=_interopRequireDefault(_mithril),_marked=require("marked"),_marked2=_interopRequireDefault(_marked),_polytheneListList=require("polythene/list/list"),_polytheneListList2=_interopRequireDefault(_polytheneListList),_polytheneListTileListTile=require("polythene/list-tile/list-tile"),_polytheneListTileListTile2=_interopRequireDefault(_polytheneListTileListTile),_polytheneHeaderPanelHeaderPanel=require("polythene/header-panel/header-panel"),_polytheneHeaderPanelHeaderPanel2=_interopRequireDefault(_polytheneHeaderPanelHeaderPanel),_polytheneCardCard=require("polythene/card/card"),_polytheneCardCard2=_interopRequireDefault(_polytheneCardCard),_polytheneButtonButton=require("polythene/button/button"),_polytheneButtonButton2=_interopRequireDefault(_polytheneButtonButton),_highlightJs=require("highlight.js"),_highlightJs2=_interopRequireDefault(_highlightJs),_polytheneThemeCommonWebfontLoader=require("polythene-theme/common/webfontLoader"),_polytheneThemeCommonWebfontLoader2=_interopRequireDefault(_polytheneThemeCommonWebfontLoader);require("polythene-theme/theme/theme");var _polytheneThemeCommonStyler=require("polythene-theme/common/styler"),_polytheneThemeCommonStyler2=_interopRequireDefault(_polytheneThemeCommonStyler),_appAppAppStyle=require("app/app/app-style"),_appAppAppStyle2=_interopRequireDefault(_appAppAppStyle);_polytheneThemeCommonWebfontLoader2.default.add("google","Inconsolata:400,700:latin"),_polytheneThemeCommonStyler2.default.add("polythene-docs-app",_appAppAppStyle2.default);var app=void 0,navItem=void 0,createDrawer=void 0,main=void 0,links=void 0,linkMap=void 0,defaultTitle=void 0,baseUrl=void 0;defaultTitle="Polythene Documentation",links=[{label:null,links:[{url:"polythene",name:"Introduction",title:defaultTitle,demo:"http://arthurclemens.github.io/Polythene-examples/index.html"},{url:"theme",name:"Appearance / Theming",demo:null}]},{label:"Combined components",links:[{url:"header-panel",name:"Header Panel",demo:"http://arthurclemens.github.io/Polythene-examples/header-panel.html"},{url:"toolbar",name:"Toolbar",demo:"http://arthurclemens.github.io/Polythene-examples/index.html#/toolbar"},{url:"list",name:"List",demo:"http://arthurclemens.github.io/Polythene-examples/index.html#/list"},{url:"dialog",name:"Dialog",demo:"http://arthurclemens.github.io/Polythene-examples/index.html#/dialog"}]},{label:"Components",links:[{url:"card",name:"Card",demo:"http://arthurclemens.github.io/Polythene-examples/index.html#/card"},{url:"tabs",name:"Tabs",demo:"http://arthurclemens.github.io/Polythene-examples/index.html#/tabs"},{url:"button",name:"Button",demo:"http://arthurclemens.github.io/Polythene-examples/index.html#/button"},{url:"icon-button",name:"Icon Button",demo:"http://arthurclemens.github.io/Polythene-examples/index.html#/icon-button"},{url:"fab",name:"Floating Action Button",demo:"http://arthurclemens.github.io/Polythene-examples/index.html#/fab"},{url:"item",name:"Item",demo:"http://arthurclemens.github.io/Polythene-examples/index.html#/item"},{url:"list-tile",name:"List Tile",demo:"http://arthurclemens.github.io/Polythene-examples/index.html#/list-tile"}]},{label:"Elementary components",links:[{url:"svg",name:"SVG",demo:"http://arthurclemens.github.io/Polythene-examples/index.html#/svg"},{url:"icon",name:"Icon",demo:"http://arthurclemens.github.io/Polythene-examples/index.html#/icon"},{url:"ripple",name:"Ripple",demo:"http://arthurclemens.github.io/Polythene-examples/index.html#/ripple"},{url:"shadow",name:"Shadow",demo:"http://arthurclemens.github.io/Polythene-examples/index.html#/shadow"},{url:"element",name:"Element",demo:null},{url:"font-roboto",name:"Roboto Font",demo:null}]}],linkMap={},(0,_lodashCollectionForEach2.default)(_lodashArray2.default.flatten((0,_lodashCollectionPluck2.default)(links,"links")),function(e){linkMap[e.url]=e}),baseUrl=links[0].links[0].url,navItem=function(e,t,l){return _mithril2.default.component(_polytheneListTileListTile2.default,{title:e,url:{href:t,config:_mithril2.default.route},class:l?"highlight":""})},createDrawer=function(){var e;return(0,_mithril2.default)(".drawer.dark-theme",_mithril2.default.component(_polytheneHeaderPanelHeaderPanel2.default,{header:{toolbar:{topBar:(0,_mithril2.default)(".title","Polythene")}},mode:"waterfall",fixed:!0,content:[links.map(function(t){return _mithril2.default.component(_polytheneListList2.default,{header:t.label?{title:t.label}:null,tiles:t.links.map(function(t){return e=_mithril2.default.route()===t.url,navItem(t.name,t.url,e)})})}),(0,_mithril2.default)(".footer",_mithril2.default.trust('Polythene by Arthur Clemens 2015. Project page on <a href="https://github.com/ArthurClemens/Polythene">Github</a>.'))]}))},main=function(e,o){var t,n,r,l,a,i=null;return t=e.name,n=e.url,r=o?(0,_marked2.default)(o):"",null!==e.demo&&(l={href:e.demo,target:"_blank"},i="polythene"===n?"All components":t,a=_mithril2.default.component(_polytheneCardCard2.default,{url:l,content:[{primary:{title:i}},{actions:{class:"bordered",content:[(0,_mithril2.default)(".flex"),_mithril2.default.component(_polytheneButtonButton2.default,{label:"View demo",url:l})]}}]})),(0,_mithril2.default)(".main.flex",_mithril2.default.component(_polytheneHeaderPanelHeaderPanel2.default,{header:{toolbar:{topBar:(0,_mithril2.default)(".title",t)}},mode:"waterfall",fixed:!0,content:(0,_mithril2.default)(".doc-content",{config:function(e,o){var t=[].slice.call(e.querySelectorAll("pre code"));t.forEach(function(e){_highlightJs2.default.highlightBlock(e)});var l=[].slice.call(e.querySelectorAll("a"));l.forEach(function(e){if(!e.getAttribute("href").match(/^http/)){var t=e.getAttribute("href").replace("#","?");e.setAttribute("href",t)}})}},[a,_mithril2.default.trust(r)])}))},app={},app.vm=function(){return{init:function(){app.vm.currentLink=function(){return linkMap[_mithril2.default.route.param("module")]},app.vm.updateHead=function(){var e,t;e=app.vm.currentLink()||{},t=e.title||e.name+" - "+defaultTitle,document.title=t}}}}.call(),app.controller=function(){var e;return app.vm.init(),e=_mithril2.default.request({method:"GET",url:"app/docs/"+_mithril2.default.route.param("module")+".md",background:!1,deserialize:function(e){return e}}),{docs:e}},app.view=function(l){var e,t;return e=l.docs(),t=app.vm.currentLink(),[(0,_mithril2.default)(".scaffold.layout.horizontal.reverse",{config:app.vm.updateHead},[main(t,e),createDrawer()])]},_mithril2.default.route.mode="search",_mithril2.default.route(document.body,baseUrl,{":module":app});